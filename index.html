<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>JustlyAI - Legal Chatbot</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* Loading indicator */
        .loader {
            border: 3px solid #f3f3f3;
            border-radius: 50%;
            border-top: 3px solid #4CAF50;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: inline-block;
            margin-left: 10px;
            vertical-align: middle;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <h1>JustlyAI üí° <span class="subtitle">Free Legal Help in Your Language</span></h1>
        
        <div class="language-toggle">
            <button onclick="setLanguage('en')">English</button>
            <button onclick="setLanguage('hi')">‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
            <button onclick="setLanguage('te')">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</button>
        </div>
        
        <div id="chatbox"></div>
        <div class="input-container">
            <input type="text" id="userInput" placeholder="Ask about divorce, wages, property...">
            <button onclick="sendQuery()" id="askButton">Ask</button>
        </div>
    </div>

    <script>
        // Legal knowledge database
        const legalDB = {
            "legal_cases": [
                {
                    "keywords": ["property", "land", "house", "eviction"],
                    "answer": "No. Landlord must give 1-month written notice. If forced out, file a complaint at the police station.",
                    "hi": "‡§®‡§π‡•Ä‡§Ç‡•§ ‡§Æ‡§ï‡§æ‡§® ‡§Æ‡§æ‡§≤‡§ø‡§ï ‡§ï‡•ã 1-‡§Æ‡§æ‡§π ‡§ï‡§æ ‡§≤‡§ø‡§ñ‡§ø‡§§ ‡§®‡•ã‡§ü‡§ø‡§∏ ‡§¶‡•á‡§®‡§æ ‡§π‡•ã‡§ó‡§æ‡•§ ‡§ú‡§¨‡§∞‡§¶‡§∏‡•ç‡§§‡•Ä ‡§π‡•ã‡§®‡•á ‡§™‡§∞ ‡§™‡•Å‡§≤‡§ø‡§∏ ‡§Æ‡•á‡§Ç ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§",
                    "te": "‡∞≤‡±á‡∞¶‡±Å. ‡∞Ø‡∞ú‡∞Æ‡∞æ‡∞®‡∞ø 1-‡∞®‡±Ü‡∞≤ ‡∞®‡±ã‡∞ü‡±Ä‡∞∏‡±Å ‡∞á‡∞µ‡±ç‡∞µ‡∞æ‡∞≤‡∞ø. ‡∞¨‡∞≤‡∞µ‡∞Ç‡∞§‡∞Ç‡∞ó‡∞æ ‡∞§‡±ä‡∞≤‡∞ó‡∞ø‡∞∏‡±ç‡∞§‡±á, ‡∞™‡±ã‡∞≤‡±Ä‡∞∏‡±ç ‡∞∏‡±ç‡∞ü‡±á‡∞∑‡∞®‡±ç‡∞≤‡±ã ‡∞´‡∞ø‡∞∞‡±ç‡∞Ø‡∞æ‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø."
                },
                {
                    "keywords": ["farm", "land", "crop", "compensation"],
                    "answer": "Illegal! You must get compensation under Land Acquisition Act. Contact the District Collector with land records.",
                    "hi": "‡§ó‡•à‡§∞‡§ï‡§æ‡§®‡•Ç‡§®‡•Ä! ‡§≠‡•Ç‡§Æ‡§ø ‡§Ö‡§ß‡§ø‡§ó‡•ç‡§∞‡§π‡§£ ‡§ï‡§æ‡§®‡•Ç‡§® ‡§ï‡•á ‡§§‡§π‡§§ ‡§Æ‡•Å‡§Ü‡§µ‡§ú‡§æ ‡§Æ‡§ø‡§≤‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§ ‡§ú‡§ø‡§≤‡§æ ‡§ï‡§≤‡•á‡§ï‡•ç‡§ü‡§∞ ‡§∏‡•á ‡§ú‡§Æ‡•Ä‡§® ‡§ï‡•á ‡§ï‡§æ‡§ó‡§ú‡§æ‡§§ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§",
                    "te": "‡∞ö‡∞ü‡±ç‡∞ü‡∞µ‡∞ø‡∞∞‡±Å‡∞¶‡±ç‡∞ß‡∞Ç! ‡∞≤‡±ç‡∞Ø‡∞æ‡∞Ç‡∞°‡±ç ‡∞Ö‡∞ï‡±ç‡∞µ‡∞ø‡∞ú‡∞ø‡∞∑‡∞®‡±ç ‡∞ö‡∞ü‡±ç‡∞ü‡∞Ç ‡∞™‡±ç‡∞∞‡∞ï‡∞æ‡∞∞‡∞Ç ‡∞Æ‡±Ä‡∞ï‡±Å ‡∞™‡∞∞‡∞ø‡∞π‡∞æ‡∞∞‡∞Ç ‡∞á‡∞µ‡±ç‡∞µ‡∞æ‡∞≤‡∞ø. ‡∞≠‡±Ç‡∞Æ‡∞ø ‡∞∞‡∞ø‡∞ï‡∞æ‡∞∞‡±ç‡∞°‡±Å‡∞≤‡∞§‡±ã ‡∞ú‡∞ø‡∞≤‡±ç‡∞≤‡∞æ ‡∞ï‡∞≤‡±Ü‡∞ï‡±ç‡∞ü‡∞∞‡±ç‡∞®‡±Å ‡∞∏‡∞Ç‡∞™‡±ç‡∞∞‡∞¶‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø."
                },
                {
                    "keywords": ["divorce", "child custody", "maintenance"],
                    "answer": "Family courts usually favor mothers for kids under 5. File a custody petition with marriage and child birth proofs.",
                    "hi": "5 ‡§∏‡§æ‡§≤ ‡§∏‡•á ‡§õ‡•ã‡§ü‡•á ‡§¨‡§ö‡•ç‡§ö‡•ã‡§Ç ‡§ï‡•Ä ‡§ï‡§∏‡•ç‡§ü‡§°‡•Ä ‡§Ü‡§Æ‡§§‡•å‡§∞ ‡§™‡§∞ ‡§Æ‡§æ‡§Å ‡§ï‡•ã ‡§Æ‡§ø‡§≤‡§§‡•Ä ‡§π‡•à‡•§ ‡§∂‡§æ‡§¶‡•Ä ‡§î‡§∞ ‡§¨‡§ö‡•ç‡§ö‡•á ‡§ï‡•á ‡§ú‡§®‡•ç‡§Æ ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡§™‡§§‡•ç‡§∞ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ö‡§∞‡•ç‡§ú‡•Ä ‡§¶‡•á‡§Ç‡•§",
                    "te": "5 ‡∞∏‡∞Ç‡∞µ‡∞§‡±ç‡∞∏‡∞∞‡∞æ‡∞≤ ‡∞ï‡∞Ç‡∞ü‡±á ‡∞ö‡∞ø‡∞®‡±ç‡∞® ‡∞™‡∞ø‡∞≤‡±ç‡∞≤‡∞≤‡∞ï‡±Å ‡∞§‡∞≤‡±ç‡∞≤‡±Å‡∞≤‡∞ï‡±á ‡∞ï‡∞∏‡±ç‡∞ü‡∞°‡±Ä ‡∞á‡∞∏‡±ç‡∞§‡∞æ‡∞∞‡±Å. ‡∞µ‡∞ø‡∞µ‡∞æ‡∞π ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞™‡±Å‡∞ü‡±ç‡∞ü‡∞ø‡∞® ‡∞™‡±ç‡∞∞‡∞Æ‡∞æ‡∞£‡∞™‡∞§‡±ç‡∞∞‡∞æ‡∞≤‡∞§‡±ã ‡∞ï‡±ã‡∞∞‡±ç‡∞ü‡±Å‡∞≤‡±ã ‡∞Ö‡∞∞‡±ç‡∞ú‡±Ä ‡∞¶‡∞æ‡∞ñ‡∞≤‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø."
                },
                {
                    "keywords": ["fine", "driving license", "rash driving"],
                    "answer": "‚Çπ5,000 fine or 3-month jail. Apply for license online at parivahan.gov.in to avoid trouble.",
                    "hi": "‚Çπ5,000 ‡§ú‡•Å‡§∞‡•ç‡§Æ‡§æ‡§®‡§æ ‡§Ø‡§æ 3-‡§Æ‡§æ‡§π ‡§ï‡•Ä ‡§ú‡•á‡§≤‡•§ ‡§™‡§∞‡•á‡§∂‡§æ‡§®‡•Ä ‡§∏‡•á ‡§¨‡§ö‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è parivahan.gov.in ‡§™‡§∞ ‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§Ü‡§µ‡•á‡§¶‡§® ‡§ï‡§∞‡•á‡§Ç‡•§",
                    "te": "‚Çπ5,000 ‡∞ú‡∞∞‡∞ø‡∞Æ‡∞æ‡∞®‡∞æ ‡∞≤‡±á‡∞¶‡∞æ 3-‡∞®‡±Ü‡∞≤‡∞≤ ‡∞ú‡±à‡∞≤‡±Å. ‡∞á‡∞¨‡±ç‡∞¨‡∞Ç‡∞¶‡∞ø ‡∞®‡∞ø‡∞µ‡∞æ‡∞∞‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø parivahan.gov.in ‡∞µ‡∞¶‡±ç‡∞¶ ‡∞≤‡±à‡∞∏‡±Ü‡∞®‡±ç‡∞∏‡±ç ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞Ö‡∞™‡±ç‡∞≤‡±à ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø."
                }
            ]
        };

        let currentLanguage = 'en';
        const placeholders = {
            'en': "Ask about divorce, wages, property...",
            'hi': "‡§§‡§≤‡§æ‡§ï, ‡§µ‡•á‡§§‡§®, ‡§∏‡§Ç‡§™‡§§‡•ç‡§§‡§ø ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§õ‡•á‡§Ç...",
            'te': "‡∞°‡∞ø‡∞µ‡±ã‡∞∞‡±ç‡∞∏‡±ç, ‡∞µ‡±á‡∞§‡∞®‡∞æ‡∞≤‡±Å, ‡∞Ü‡∞∏‡±ç‡∞§‡∞ø ‡∞ó‡±Å‡∞∞‡∞ø‡∞Ç‡∞ö‡∞ø ‡∞Ö‡∞°‡∞ó‡∞Ç‡∞°‡∞ø..."
        };

        function setLanguage(lang) {
            currentLanguage = lang;
            document.getElementById('userInput').placeholder = placeholders[lang];
        }

        function showLoading(show) {
            const button = document.getElementById('askButton');
            if (show) {
                button.innerHTML = 'Thinking <span class="loader"></span>';
                button.disabled = true;
            } else {
                button.innerHTML = 'Ask';
                button.disabled = false;
            }
        }

        function addMessage(text, isUser) {
            const chatbox = document.getElementById('chatbox');
            const messageDiv = document.createElement('div');
            messageDiv.className = isUser ? 'user-message' : 'bot-message';
            messageDiv.textContent = text;
            chatbox.appendChild(messageDiv);
            chatbox.scrollTop = chatbox.scrollHeight;
        }

        function sendQuery() {
            const query = document.getElementById('userInput').value.trim();
            if (!query) return;

            // Add user message
            addMessage(query, true);
            document.getElementById('userInput').value = '';
            
            // Show loading indicator
            showLoading(true);

            // Simulate processing delay
            setTimeout(() => {
                try {
                    // Find matching answer
                    let response = {
                        'en': "I couldn't find information about that. Try asking about property, divorce, or driving licenses.",
                        'hi': "‡§Æ‡•Å‡§ù‡•á ‡§á‡§∏ ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡•Ä‡•§ ‡§∏‡§Ç‡§™‡§§‡•ç‡§§‡§ø, ‡§§‡§≤‡§æ‡§ï ‡§Ø‡§æ ‡§°‡•ç‡§∞‡§æ‡§á‡§µ‡§ø‡§Ç‡§ó ‡§≤‡§æ‡§á‡§∏‡•á‡§Ç‡§∏ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§õ‡•á‡§Ç‡•§",
                        'te': "‡∞¶‡∞æ‡∞®‡∞ø ‡∞ó‡±Å‡∞∞‡∞ø‡∞Ç‡∞ö‡∞ø ‡∞®‡∞æ‡∞ï‡±Å ‡∞∏‡∞Æ‡∞æ‡∞ö‡∞æ‡∞∞‡∞Ç ‡∞¶‡±ä‡∞∞‡∞ï‡∞≤‡±á‡∞¶‡±Å. ‡∞Ü‡∞∏‡±ç‡∞§‡∞ø, ‡∞°‡∞ø‡∞µ‡±ã‡∞∞‡±ç‡∞∏‡±ç ‡∞≤‡±á‡∞¶‡∞æ ‡∞°‡±ç‡∞∞‡±à‡∞µ‡∞ø‡∞Ç‡∞ó‡±ç ‡∞≤‡±à‡∞∏‡±Ü‡∞®‡±ç‡∞∏‡±ç‡∞≤ ‡∞ó‡±Å‡∞∞‡∞ø‡∞Ç‡∞ö‡∞ø ‡∞Ö‡∞°‡∞ó‡∞Ç‡∞°‡∞ø."
                    }[currentLanguage];

                    // Search for matching keywords
                    for (const legalCase of legalDB.legal_cases) {
                        if (legalCase.keywords.some(keyword => 
                            query.toLowerCase().includes(keyword.toLowerCase()))) {
                            response = legalCase[currentLanguage] || legalCase.answer;
                            break;
                        }
                    }

                    // Add bot response
                    addMessage(response, false);
                } catch (error) {
                    addMessage("Sorry, something went wrong. Please try again.", false);
                    console.error("Error:", error);
                } finally {
                    showLoading(false);
                }
            }, 800); // Simulate processing time
        }

        // Handle Enter key
        document.getElementById('userInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') sendQuery();
        });
    </script>
</body>
</html>
